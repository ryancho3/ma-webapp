
<!-- Navbar -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark sticky-top">
  <div class="container">
    <a href="/" class="navbar-brand">Matchbook Academy</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="collapsibleNavbar">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="/">Home | 홈</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/curriculum-list">Curriculum | 과목</a>
        </li>

        <% if (typeof sessionModel != "undefined" && sessionModel.isLoggedIn()) { %>

          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <span><%= sessionModel.getUserName() %> (<%= sessionModel.getUserType() %>)</span>
            </a>

            <% if (sessionModel.isUserTutor()) { %>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/user">Profile | 프로필</a>
                <a class="dropdown-item" href="/appointment-list">Appointments | 내 수업</a>
                <a class="dropdown-item" href="/tutor-curriculum-list">Manage My Curriculum | 내 과목</a>
                <a class="dropdown-item" href="/tutor-availability-list">Manage Availability | 가능한 시간</a>
                <div class="dropdown-divider"></div>
                <h1 class="dropdown-header">Account Settings</h1>
                <a class="dropdown-item" href="/updateprofile">Update Profile | 프로필 변경</a>
                <a class="dropdown-item" href="/resetpassword">Change Password | 비밀번호 변경</a>
                <a class="dropdown-item" href="/logout">Logout | 로그아웃</a>
              </div>

            <% } else if (sessionModel.isUserStudent()) { %>

              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/user">Profile | 프로필</a>
                <a class="dropdown-item" href="/appointment-list">Appointments | 내 수업</a>
                <div class="dropdown-divider"></div>
                <h2 class="dropdown-header">Account Settings</h2>
                <a class="dropdown-item" href="/updateprofile">Update Profile | 프로필 변경</a>
                <a class="dropdown-item" href="/resetpassword">Change Password | 비밀번호 변경</a>
                <a class="dropdown-item" href="/logout">Logout | 로그아웃</a>
              </div>
            <% } else if (sessionModel.isUserAdmin()) { %>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                <a class="dropdown-item" href="/user">Profile | 프로필</a>
                <a class="dropdown-item" href="/appointment-list">Appointments | 수업</a>
                <div class="dropdown-divider"></div>
                <h3 class="dropdown-header">Administrator Tools</h3>
                <a class="dropdown-item" href="/manualcreation">Create Student/Tutor Account</a>
                <a class="dropdown-item" href="/newadmin">Create New Admin Account</a>
                <div class="dropdown-divider"></div>
                <h4 class="dropdown-header">Account Settings</h4>
                <a class="dropdown-item" href="/updateprofile">Update Profile | 프로필 변경</a>  
                <a class="dropdown-item" href="/resetpassword">Change Password | 비밀번호 변경</a>
                <a class="dropdown-item" href="/logout">Logout | 로그아웃</a>
              </div>
            <% } %>
          </li>

        <% } else { %>

          <li class="nav-item">
            <a class="nav-link" href="/login">Login | 로그인</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/locked">Register | 계정 만들기</a>
          </li>

        <% } %>

      </ul>
    </div>  
  </div>
</nav>
